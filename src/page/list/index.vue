<template>
    <div class="body">
        <div class="search">
            <form>
                <input type="text" name="search_top" autocomplete="off" placeholder="搜索" />
                <button class="btn_search"><i class="iconfont icon-sousuo"></i></button>
            </form>
        </div>
        <div class="menu">
            <ul>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-mifan"></use>
                    </svg>
                    <div class="menu_li">美食</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-wucan"></use>
                    </svg>
                    <div class="menu_li">午餐</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-dinner"></use>
                    </svg>
                    <div class="menu_li">晚餐</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-meishijiayin"></use>
                    </svg>
                    <div class="menu_li">饮品</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-meishi"></use>
                    </svg>
                    <div class="menu_li">汉堡</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-miantiao"></use>
                    </svg>
                    <div class="menu_li">超值</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-kaochuan"></use>
                    </svg>
                    <div class="menu_li">小吃</div>
                </li>
                <li>
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-_waimai"></use>
                    </svg>
                    <div class="menu_li">速达</div>
                </li>
            </ul>
        </div>
        <div class="recommend">
            <div class="rec_tit">
                <div class="mask"></div>
            </div>
        	<ul class="rec_cont">
        		<li>
        			<div class="img"><img src="http://img.juimg.com/tuku/yulantu/130121/240385-1301210P05616.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">风味牛肉</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 50</div>
        				</div>
        				<div class="site">济南历下区</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://58pic.ooopic.com/58pic/19/21/03/5684e1c5077fd.jpg!/format/webp" alt="" /></div>
        			<div class="content">
        				<div class="name">乐乐蛋糕店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 40</div>
        				</div>
        				<div class="site">北京市大栅栏</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.zcool.cn/community/019e025859ddeca801219c773a5821.jpg@2o.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.zcool.cn/community/010ce1564a90306ac7251c9422c660.jpg@1280w_1l_2o_100sh.webp" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.taopic.com/uploads/allimg/120917/219077-12091G11U422.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.taopic.com/uploads/allimg/120917/219077-12091G11U422.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.taopic.com/uploads/allimg/120917/219077-12091G11U422.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.taopic.com/uploads/allimg/120917/219077-12091G11U422.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.taopic.com/uploads/allimg/120917/219077-12091G11U422.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.taopic.com/uploads/allimg/120917/219077-12091G11U422.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
                <li>
        			<div class="img"><img src="http://img.zcool.cn/community/019e025859ddeca801219c773a5821.jpg@2o.jpg" alt="" /></div>
        			<div class="content">
        				<div class="name">零食店</div>
        				<div class="grade">
        					<div class="stars">
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_f"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        						<i class="iconfont icon-xing_l"></i> 
        					</div>
        					<div class="money">人均 ￥ 20</div>
        				</div>
        				<div class="site">北京市王府井大街</div>
        			</div>
        		</li>
        	</ul>
        </div>
        <div class="backtop" ref="bctop" @click="backtop">
            <i class="iconfont icon-huidaodingbu"></i>
        </div>
        <footView />
    </div>
</template>

<script>
import footView from "../../components/footer.vue";
export default {
    name: 'home',
    data () {
        return {
            scrollWatch: true
        }
    },
    mounted () {
        this.init();
        document.getElementById("app").addEventListener('scroll', this.handleScroll);
    },
    methods:{
        init () {
            document.getElementById("app").scrollTop = 0;
        },
        handleScroll () {
            if(this.scrollWatch){
                console.log("执行2");
                var scrollTop = document.getElementById("app").scrollTop;
                if(scrollTop >= 250 ){
                    this.$refs.bctop.style.bottom = "5rem"
                }else{
                    this.$refs.bctop.style.bottom = "-1rem"
                }
            }
            
        },
        backtop () {
            var timer = setInterval(function(){
                var currentPosition = document.getElementById("app").scrollTop;
                currentPosition = parseInt(currentPosition / 2);
                if (currentPosition > 0) {
                    document.getElementById("app").scrollTo(0, currentPosition);
                }
                else {
                    document.getElementById("app").scrollTo(0, 0);
                    clearInterval(timer);
                    timer = null;
                }
            },20);
        }
    },
    destroyed () {
        this.scrollWatch = false;
    },
    components: { footView }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
    .body{
        padding-bottom:3.4rem; 
        .search{
            height: 3rem;
            width: 100%;
            text-align: center;
            transition:.2s;
            overflow: hidden;
            form{
                height: 2rem;
                position: relative;
                left: 10%;
                padding-top: .6rem;
                input{
                    font-family: 'Raleway', Arial, sans-serif;
                    border: none;
                    height: 2rem;
                    width: 75%;
                    line-height: 2rem;
                    font-size:1rem;
                    color: #333;
                    background: #eee ;
                    display: block;
                    float: left;
                    padding: 0;
                    padding-left: 1rem;
                }
                .btn_search{
                    border: none;
                    background:#fff;
                    display: block;
                    float: left;
                    padding: 0 .5rem;
                    height: 2rem;
                    i{
                        font-size: 1.6rem;
                        color: #665c83;
                    }
                }
            }
        }
        .menu{
        	background: #fff;
            height: 5.33rem;
            overflow: hidden;
            ul{
                overflow: auto;
                white-space:nowrap;
                li{
                    width: 4rem;
                    height: 5rem;
                    text-align: center;
                    display: inline-block;
                    .icon {
                        margin-top: .4rem;
                        width: 2rem; 
                        height: 2rem;
                    }
                    .menu_li{
                        font-size: 1rem;
                    }
                }
            }    
        }
        .recommend{
        	background: #fff;
        	.rec_tit{
        		height: .3rem;
                margin-bottom: 1.5rem;
                .mask {
                    overflow: hidden;
                    height: 0.3rem;
                }
                .mask:after {
                    content: '';
                    display: block;
                    margin: -27px auto 0;
                    width: 100%;
                    height: 25px;
                    border-radius: 125px/12px;
                    box-shadow: 0 0 8px #141857;
                }
        	}
        	.rec_cont{
                flex: 1;
                padding-bottom: 2.3rem;
                li{
                   margin-bottom: 1rem;
                   overflow: hidden;
                   border-bottom: solid 1px #eee;
                   padding: 0 0.8rem 0.8rem 0.8rem;
                   .img{
                       float: left;
                       width: 5.1rem;
                       img{
                           width: 5rem;
                           height: 5rem;
                       }
                   }
                   .content{
                       float: left;
                       padding: 0 0.8rem;
                       .name{
                           font-size: 1.4rem;
                           font-family: '楷体';
                           height: 1.8rem;
                           line-height: 1.8rem;
                           color: #333;
                       }
                       .grade{
                           height: 1.4rem;
                           line-height: 1.4rem;
                           .stars{
                               float: left;
                               letter-spacing: -0.2rem;
                               color: #ff9800;
                               font-size: 1.2rem !important ;
                               height: 1.2rem;
                               line-height: 1.4rem;
                           }
                           .money{
                               height: 1.4rem;
                               line-height: 1.6rem;
                               float: left;
                               color: #aaa;
                               font-size: 0.8rem;
                               margin-left: 1.5rem;
                           }
                       }
                       .site{
                           line-height: 1.8rem;
                           color: #888;
                       }
                   } 
                }
        	}
        }
        .backtop{
            position: fixed;
            width: 3rem;
            height: 3rem;
            border-radius: 1.5rem;
            background: rgba(0, 0, 0, .4);
            color: #fff;
            bottom: -1rem;
            right: 2.5rem;
            font-size: 1.8rem;
            text-align: center;
            line-height: 3rem;
            transition:.2s;
        }
    }
</style>
